<head>
  <title>
    Reading List
  </title>
  
  <!-- <link rel="stylesheet" href="css/normalize.css" type="text/css"> -->
  <!-- <link rel="stylesheet" href="css/skeleton.css" type="text/css"> -->
  <link rel="stylesheet" href="css/styles.css" type="text/css">
  
  <script src="js/lodash.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular.min.js"></script>
  <script type="text/javascript" src="js/app.js"></script>
</head>

<body ng-app="readingListApp">
  
  <div class="container" ng-controller="ReadingListController">
    <section class="header">
      <div class="row">
        <div class="six columns">      
          <h2 class="title">
            Reading List
          </h2>
        </div>
      
        <div class="six columns">
          <button ng-click="showAll()" ng-class="{'active': viewState == 'all' }">
            All
          </button>
          <button ng-click="showBooksToCheckOut()" ng-class="{'active': viewState == 'possibleReads' }">
            Unread
          </button>
          <button ng-click="showLast20Books()" ng-class="{'active': viewState == 'possibleReads' }">
            Last 20 Adds
          </button>
          <button ng-click="showLast6Months()" ng-class="{'active': viewState == 'possibleReads' }">
            Last 6 Months
          </button>
          <button ng-click="getBooks()">
            Refresh
          </button>
          <a class="button button-primary" target="_blank" href="https://docs.google.com/a/jd18.law.harvard.edu/forms/d/1-5WDzJOsmSqwncd_RNYB4iBFVPt6iOuo6k0KPEnb52g/viewform?c=0&w=1">
            Add
          </a>
        </div>
      </div>
    </section>
    
    <table class="u-full-width">
      <thead>
        <tr>          
          <th class="title" ng-click="sortingProperty = (sortingProperty == 'title' ? '-title' : 'title')">
            Title
          </th>
          <th class="first" ng-click="sortingProperty = (sortingProperty == 'author_first' ? '-author_first' : 'author_first')">
            First
          </th>
          <th class="last" ng-click="sortingProperty = (sortingProperty == 'author_last' ? '-author_last' : 'author_last')">
            Last
          </th>
          <th></th>
          <th></th>
          <th class="timestamp" ng-click="sortingProperty = (sortingProperty == 'Timestamp' ? '-Timestamp' : 'Timestamp')">
            Added
          </th>
        </tr>
      </thead>
      
      <tbody>
        <tr ng-repeat="book in books | orderBy: sortingProperty">          
          <td class="title">
            {{ book.title || '&mdash;' }}
          </td>
          <td class="first">
            {{ book.author_first || '&mdash;' }}
          </td>
          <td class="last">
            {{ book.author_last || '&mdash;' }}
          </td>
          <td class="read">
            <button>
              Read
            </button>
          </td>
          <td class="tried">
            <button>
              Tried
            </button>
          </td>
          <td class="timestamp">
            {{ book.Timestamp }}
          </td>
        </tr>
      </tbody>
    </table>
    
    
  </div>
  
</body>
